@import url('https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Poppins:wght@400;600&display=swap');

$seamap-color-1: rgb(14, 14, 25);
$seamap-color-2: rgb(28, 50, 98);
$seamap-color-3: rgb(45, 101, 154);
$seamap-color-4: rgb(84, 142, 196);
$seamap-color-5: rgb(126, 186, 231);
$seamap-color-6: rgb(200, 220, 240);
$seamap-color-7: white;

$seamap-color-2-darker: rgb(25, 44, 86);
$seamap-color-3-darker: rgb(39, 91, 141);

$body-font-family: "Open Sans", sans-serif;
$headings-font-family: "Poppins", sans-serif;

/* plugin namespaced */
.region_report {
    font-family: $body-font-family;
    font-size: 14px;

    --responsive--spacing-horizontal: calc(2 * 25px * 0.6);
    --responsive--alignwide-width: calc(100vw - var(--responsive--spacing-horizontal));

    @media only screen and (min-width: 482px) {
        --responsive--alignwide-width: calc(100vw - 4 * 25px);
    }
    
    @media only screen and (min-width: 822px) {
        --responsive--alignwide-width: min(calc(100vw - 8 * 25px), 1240px);
    }

    >* {
        max-width: var(--responsive--alignwide-width);
        margin: auto;
    }
    
    h2, h3 {
        margin: 0;
        font-family: $headings-font-family;
        color: $seamap-color-2;
    }

    h2 {
        font-weight: 600;
    }

    table {
        border-bottom: 1px solid rgba(0, 0, 0, 0.07);
    }
    
    td, th {
        font-size: 12px;
        padding: 6px 6px 6px 0;
        text-align: left;
        border: 0;
    }

    td {
        border-top: 1px solid rgba(0, 0, 0, 0.07);
    }
    
    th {
        text-transform: uppercase;
    }
    
    img {
        width: 100%
    }

    a {
        text-decoration: none;
        color: $seamap-color-2;

        &:hover {
            text-decoration: underline;
        }
    }

    section {
        padding: 0;
        margin: 0;
        margin-bottom: 20px;
    }
    
    .entry-content>* {
        &:not(:first-child) {
            margin-top: 48px;
        }

        &:not(.alignwide):not(.alignfull):not(.alignleft):not(.alignright):not(.wp-block-separator):not(.woocommerce) {
            max-width: 100%;
        }
    }

    .overview {
        display: flex;
        flex-direction: row;
        gap: 16px;

        .region-summary {
            flex: 3;

            background-color: $seamap-color-2;
            color: $seamap-color-7;

            .heading {
                background-color: $seamap-color-1;
                padding: 12px 20px;
                height: 78px;
                display: flex;
                flex-direction: column;
                justify-content: flex-end;

                h3 {
                    text-transform: uppercase;
                    font-size: 14px;
                    color: inherit;
                }

                h2 {
                    display: inline-flex;
                    align-items: center;
                    gap: 8px;
                    font-size: 28px;
                    color: inherit;
                    a { color: inherit; }
                }
            }

            .content {
                padding: 12px 20px 30px 20px;
            }
        }

        .parks {
            flex: 2;

            .heading {
                padding: 12px 20px;
                height: 78px;
                display: flex;
                flex-direction: column;
                justify-content: flex-end;

                h2 {
                    font-size: 28px;
                }
            }

            ul {
                columns: 2;
                -webkit-columns: 2;
                -moz-columns: 2;
                list-style-type: none;
                margin: 0;
                padding: 12px 20px 30px 20px;
            }
        }
    }

    .overview-map {
        .labeled-toggle {
            margin-bottom: 8px;
        }

        .map { height: 300px; }
        
    }

    .caption {
        font-size: 12px;
        padding: 6px 10px;
        background-color: $seamap-color-2;
        color: $seamap-color-7;
        width: max-content;
        max-width: 100%;

        a { color: inherit; }
    }
    
    .region-report-chart-table
    .region-report-research-effort-graphs {
        display: flex;
        flex-direction: row;
        gap: 32px;

        >* {
            flex: 1;
            min-width: 0;
            overflow-x: hidden;
            gap: 16px;
            display: flex;
            flex-direction: column;
        }
    }

    .region-report-pressures {
        flex: 1;
        min-width: 0;
        overflow-x: hidden;
        gap: 16px;
        display: flex;
        flex-direction: column;
    }
    
    .region-report-chart-table>*:nth-child(2) {
        position: relative;

        >* {
            position: absolute;
        }
    }
    
    .region-report-chart {
        width: 75%;
        margin: auto;
    }
    
    .region-report-research-rating {
        background-color: #ebebeb;
        border: 3px solid black;
        border-radius: 32px;
        padding: 12px 24px;
        gap: 12px;
        display: flex;
        flex-direction: column;
    }
    
    .region-report-research-rating-quote {
        font-size: 23px;
        font-style: italic;
    }
    
    .labeled-toggle {
        --slider-width: 34px;
        --slider-height: 20px;
        --slider-transition: .2s;
        --switch-size: 14px;
        --switch-gap: calc((var(--slider-height) - var(--switch-size)) / 2);
        display: flex;
        flex-direction: row;
        gap: 8px;
        align-items: center;
        justify-content: flex-end;
        font-size: 12px;
        color: $seamap-color-2;
    }
    
    .region-report-imagery {
        height: 300px;
        display: flex;
        flex-direction: row;
        gap: 32px;
    }
    
    .region-report-imagery-map {
        flex: 2;
    }
    
    .region-report-imagery-images {
        flex: 3;
    }
    
    .region-report-imagery-grid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 8px;
    }
    
    .region-report-pressures .region-report-tab-content {
        height: 390px;
        overflow: auto;
    }
    
    .region-report-imagery-grid>*,
    .region-report-pressures-grid>* {
        user-select: none;
        aspect-ratio: 5 / 4;
        overflow: hidden;
        position: relative;
    }
    
    .region-report-imagery-grid>*>img,
    .region-report-pressures-grid>*>img {
        object-fit: cover;
        width: 100%;
        height: 100% !important;
    }
    
    .region-report-imagery-grid-number {
        background-color: rgb(0, 147, 36);
        color: white;
        font-weight: bold;
        position: absolute;
        left: 0;
        top: 0;
        width: 20px;
        aspect-ratio: 1;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    
    .region-report-imagery-map .leaflet-div-icon {
        background: none;
        border: none;
        cursor: default;
    }
    
    .region-report-imagery-map .leaflet-div-icon>svg {
        overflow: visible;
    }
    
    .region-report-pressures-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 12px;
    }
    
    /* Star rating start */
    .fa {
        color: #182026;
    }
    
    .region-report-star-rating {
        display: flex;
        flex-direction: row;
        align-items: center;
    }
    
    .region-report-star-rating>*:nth-child(1) {
        font-size: 44px;
        display: flex;
        flex-direction: row;
        gap: 4px;
        margin-right: 12px;
    }
    
    .region-report-star-rating>*:nth-child(2) {
        font-size: 20px;
    }
    /* Star rating end */
    
    /* Tabs start */
    .region-report-tabs {
        display: flex;
        flex-direction: row;
        gap: 16px;
    }
    
    .region-report-tab {
        cursor: pointer;
    }
    
    .region-report-tab.region-report-selected {
        text-decoration: underline;
        color: #282828;
    }
    
    .region-report-tab:hover {
        text-decoration: underline;
    }
    
    .region-report-tab-pane:not(.region-report-selected) {
        display: none;
    }
    /* Tabs end */
    
    .switch {
        position: relative;
        display: inline-block;
        width: var(--slider-width);
        height: var(--slider-height);
        margin: 0;
        flex-shrink: 0;

        input { 
            display: none;
        
            &:checked+.switch-slider {
                background-color: $seamap-color-2;

                &:before {
                    -webkit-transform: translateX(calc(var(--slider-width) - var(--switch-size) - 2 * var(--switch-gap)));
                    -ms-transform: translateX(calc(var(--slider-width) - var(--switch-size) - 2 * var(--switch-gap)));
                    transform: translateX(calc(var(--slider-width) - var(--switch-size) - 2 * var(--switch-gap)));
                }
            }
        }

        .switch-slider {
            border-radius: var(--slider-height);
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: var(--slider-transition);
            transition: var(--slider-transition);

            &:before {
                border-radius: 50%;
                position: absolute;
                content: "";
                height: var(--switch-size);
                width: var(--switch-size);
                left: var(--switch-gap);
                bottom: var(--switch-gap);
                background-color: white;
                -webkit-transition: var(--slider-transition);
                transition: var(--slider-transition);
            }
        }
    }
}
